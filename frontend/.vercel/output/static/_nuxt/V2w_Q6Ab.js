import{d as f,r as n,o as b,x as g,z as o,L as y,M as a,N as l,y as w,_ as x}from"./DDDR5fuo.js";const V={class:"complaint-container"},U={class:"form-group"},D={class:"form-group"},E={class:"form-group"},L={class:"form-group"},M={class:"form-group"},N=f({__name:"complaint",setup(P){const u=n(""),p=n(""),i=n(""),d=n(""),m=n(""),c=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(async s=>{const{latitude:e,longitude:t}=s.coords;await v(e,t)},s=>{console.error("Geolocation error:",s.message)}):console.error("Geolocation not supported by this browser.")},v=async(s,e)=>{try{const r=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${s}&lon=${e}`)).json();i.value=r.address.suburb||r.address.village||r.address.town||r.address.city||"",d.value=r.address.postcode||""}catch(t){console.error("Failed to fetch location details:",t)}};return b(()=>{c()}),(s,e)=>(w(),g("main",null,[o("div",V,[e[12]||(e[12]=o("h2",{class:"title"},"Report a Power Outage",-1)),o("form",{class:"complaint-form",onSubmit:e[5]||(e[5]=y(()=>console.log("submitted"),["prevent"]))},[o("div",U,[e[6]||(e[6]=o("label",{for:"name"},"Full Name",-1)),a(o("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=t=>u.value=t),type:"text",placeholder:"Enter your name",required:""},null,512),[[l,u.value]])]),o("div",D,[e[7]||(e[7]=o("label",{for:"phone"},"Phone Number",-1)),a(o("input",{id:"phone","onUpdate:modelValue":e[1]||(e[1]=t=>p.value=t),type:"tel",placeholder:"Enter your phone number",required:""},null,512),[[l,p.value]])]),o("div",E,[e[8]||(e[8]=o("label",{for:"area"},"Area / Locality",-1)),a(o("input",{id:"area","onUpdate:modelValue":e[2]||(e[2]=t=>i.value=t),type:"text",placeholder:"Enter your area or village name",disabled:"",readonly:""},null,512),[[l,i.value]])]),o("div",L,[e[9]||(e[9]=o("label",{for:"pincode"},"Pincode",-1)),a(o("input",{id:"pincode","onUpdate:modelValue":e[3]||(e[3]=t=>d.value=t),type:"text",placeholder:"e.g. 560001",disabled:"",readonly:""},null,512),[[l,d.value]])]),o("div",M,[e[10]||(e[10]=o("label",{for:"description"},"Describe the Issue",-1)),a(o("textarea",{id:"description","onUpdate:modelValue":e[4]||(e[4]=t=>m.value=t),rows:"4",placeholder:"Describe the power issue or duration of outage..."},null,512),[[l,m.value]])]),e[11]||(e[11]=o("div",{class:"form-group"},[o("button",{type:"submit",class:"submit-btn"},"Submit Complaint")],-1))],32)])]))}}),C=x(N,[["__scopeId","data-v-b0691757"]]);export{C as default};
